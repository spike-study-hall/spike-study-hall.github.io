{
"version":3,
"file":"module$node_modules$peer$dist$src$api$v1$calls$index.js",
"lineCount":2,
"mappings":"AAAAA,cAAA,qDAAA,CAAyE,QAAQ,CAACC,MAAD,CAAQC,OAAR,CAAgBC,MAAhB,CAAuBC,OAAvB,CAAgC,CAE7GC,MAAAA,CAAmB,IAAnBA,EAA2B,IAAAA,gBAA3BA,EAAoD,QAAS,CAACC,GAAD,CAAM,CACnE,MAAQA,IAAD,EAAQA,GAAAC,WAAR,CAA0BD,GAA1B,CAAgC,CAAE,UAAWA,GAAb,CAD4B,CAGvEE,OAAAC,eAAA,CAAsBL,OAAtB,CAA+B,YAA/B,CAA6C,CAAEM,MAAO,CAAA,CAAT,CAA7C,CACA,KAAMC,UAAYN,MAAA,CAAgBH,OAAA,CAAQ,mCAAR,CAAhB,CAClBE,QAAAQ,QAAA,CAAkBC,QAAA,CAAC,2BAAD,CAA+B,CAA5B,IAAAC,MAAF,2BAAE,MAAA,CAAOC,eAAT,2BAAS,eAClBC,4BAAAA;AAAML,SAAAC,QAAAK,OAAA,EACZ,KAAMC,OAASA,QAAA,CAACC,GAAD,CAAMC,GAAN,CAAWC,IAAX,CAAoB,CACvB,IAAAC,GAAOH,GAAAI,OAAP,GACR,IAAI,CAACD,EAAL,CACI,MAAOD,KAAA,EACLG,KAAAA,CAASV,KAAAW,cAAA,CAAoBH,EAApB,CACf,IAAI,CAACE,IAAL,CACI,KAAUE,MAAJ,CAAU,mBAAV,CAA8BJ,EAA9B,CAAN,CAEE,GAAA,CAAyBH,GAAAQ,KAO/BZ,eAAAG,OAAA,CAAsBM,IAAtB,CANgBI,CACZC,KAFI,GAAAA,KACQD,CAEZE,IAAKR,EAFOM,CAGZG,IAJU,GAAAA,IACEH,CAIZI,QALe,GAAAA,QACHJ,CAMhB,CACAR,IAAAa,WAAA,CAAe,GAAf,CAhB+B,CAkBnCjB,4BAAAkB,KAAA,CAAS,QAAT,CAAmBhB,MAAnB,CACAF,4BAAAkB,KAAA,CAAS,YAAT,CAAuBhB,MAAvB,CACAF,4BAAAkB,KAAA,CAAS,SAAT,CAAoBhB,MAApB,CACAF,4BAAAkB,KAAA,CAAS,QAAT,CAAmBhB,MAAnB,CACA,OAAOF,4BAxBsC,CAPgE;",
"sources":["node_modules/peer/dist/src/api/v1/calls/index.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$peer$dist$src$api$v1$calls$index\"] = function(global,require,module,exports) {\n\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst express_1 = __importDefault(require(\"express\"));\nexports.default = ({ realm, messageHandler }) => {\n    const app = express_1.default.Router();\n    const handle = (req, res, next) => {\n        const { id } = req.params;\n        if (!id)\n            return next();\n        const client = realm.getClientById(id);\n        if (!client) {\n            throw new Error(`client not found:${id}`);\n        }\n        const { type, dst, payload } = req.body;\n        const message = {\n            type,\n            src: id,\n            dst,\n            payload\n        };\n        messageHandler.handle(client, message);\n        res.sendStatus(200);\n    };\n    app.post(\"/offer\", handle);\n    app.post(\"/candidate\", handle);\n    app.post(\"/answer\", handle);\n    app.post(\"/leave\", handle);\n    return app;\n};\n\n};"],
"names":["shadow$provide","global","require","module","exports","__importDefault","mod","__esModule","Object","defineProperty","value","express_1","default","exports.default","realm","messageHandler","app","Router","handle","req","res","next","id","params","client","getClientById","Error","body","message","type","src","dst","payload","sendStatus","post"]
}
