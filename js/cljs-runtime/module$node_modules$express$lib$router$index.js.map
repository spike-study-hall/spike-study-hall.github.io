{
"version":3,
"file":"module$node_modules$express$lib$router$index.js",
"lineCount":15,
"mappings":"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",
"sources":["node_modules/express/lib/router/index.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$express$lib$router$index\"] = function(global,require,module,exports) {\n/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2013 Roman Shtylman\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar Route = require('./route');\nvar Layer = require('./layer');\nvar methods = require('methods');\nvar mixin = require('utils-merge');\nvar debug = require('debug')('express:router');\nvar deprecate = require('depd')('express');\nvar flatten = require('array-flatten');\nvar parseUrl = require('parseurl');\nvar setPrototypeOf = require('setprototypeof')\n\n/**\n * Module variables.\n * @private\n */\n\nvar objectRegExp = /^\\[object (\\S+)\\]$/;\nvar slice = Array.prototype.slice;\nvar toString = Object.prototype.toString;\n\n/**\n * Initialize a new `Router` with the given `options`.\n *\n * @param {Object} [options]\n * @return {Router} which is an callable function\n * @public\n */\n\nvar proto = module.exports = function(options) {\n  var opts = options || {};\n\n  function router(req, res, next) {\n    router.handle(req, res, next);\n  }\n\n  // mixin Router class functions\n  setPrototypeOf(router, proto)\n\n  router.params = {};\n  router._params = [];\n  router.caseSensitive = opts.caseSensitive;\n  router.mergeParams = opts.mergeParams;\n  router.strict = opts.strict;\n  router.stack = [];\n\n  return router;\n};\n\n/**\n * Map the given param placeholder `name`(s) to the given callback.\n *\n * Parameter mapping is used to provide pre-conditions to routes\n * which use normalized placeholders. For example a _:user_id_ parameter\n * could automatically load a user's information from the database without\n * any additional code,\n *\n * The callback uses the same signature as middleware, the only difference\n * being that the value of the placeholder is passed, in this case the _id_\n * of the user. Once the `next()` function is invoked, just like middleware\n * it will continue on to execute the route, or subsequent parameter functions.\n *\n * Just like in middleware, you must either respond to the request or call next\n * to avoid stalling the request.\n *\n *  app.param('user_id', function(req, res, next, id){\n *    User.find(id, function(err, user){\n *      if (err) {\n *        return next(err);\n *      } else if (!user) {\n *        return next(new Error('failed to load user'));\n *      }\n *      req.user = user;\n *      next();\n *    });\n *  });\n *\n * @param {String} name\n * @param {Function} fn\n * @return {app} for chaining\n * @public\n */\n\nproto.param = function param(name, fn) {\n  // param logic\n  if (typeof name === 'function') {\n    deprecate('router.param(fn): Refactor to use path params');\n    this._params.push(name);\n    return;\n  }\n\n  // apply param functions\n  var params = this._params;\n  var len = params.length;\n  var ret;\n\n  if (name[0] === ':') {\n    deprecate('router.param(' + JSON.stringify(name) + ', fn): Use router.param(' + JSON.stringify(name.substr(1)) + ', fn) instead');\n    name = name.substr(1);\n  }\n\n  for (var i = 0; i < len; ++i) {\n    if (ret = params[i](name, fn)) {\n      fn = ret;\n    }\n  }\n\n  // ensure we end up with a\n  // middleware function\n  if ('function' !== typeof fn) {\n    throw new Error('invalid param() call for ' + name + ', got ' + fn);\n  }\n\n  (this.params[name] = this.params[name] || []).push(fn);\n  return this;\n};\n\n/**\n * Dispatch a req, res into the router.\n * @private\n */\n\nproto.handle = function handle(req, res, out) {\n  var self = this;\n\n  debug('dispatching %s %s', req.method, req.url);\n\n  var idx = 0;\n  var protohost = getProtohost(req.url) || ''\n  var removed = '';\n  var slashAdded = false;\n  var paramcalled = {};\n\n  // store options for OPTIONS request\n  // only used if OPTIONS request\n  var options = [];\n\n  // middleware and routes\n  var stack = self.stack;\n\n  // manage inter-router variables\n  var parentParams = req.params;\n  var parentUrl = req.baseUrl || '';\n  var done = restore(out, req, 'baseUrl', 'next', 'params');\n\n  // setup next layer\n  req.next = next;\n\n  // for options requests, respond with a default if nothing else responds\n  if (req.method === 'OPTIONS') {\n    done = wrap(done, function(old, err) {\n      if (err || options.length === 0) return old(err);\n      sendOptionsResponse(res, options, old);\n    });\n  }\n\n  // setup basic req values\n  req.baseUrl = parentUrl;\n  req.originalUrl = req.originalUrl || req.url;\n\n  next();\n\n  function next(err) {\n    var layerError = err === 'route'\n      ? null\n      : err;\n\n    // remove added slash\n    if (slashAdded) {\n      req.url = req.url.substr(1);\n      slashAdded = false;\n    }\n\n    // restore altered req.url\n    if (removed.length !== 0) {\n      req.baseUrl = parentUrl;\n      req.url = protohost + removed + req.url.substr(protohost.length);\n      removed = '';\n    }\n\n    // signal to exit router\n    if (layerError === 'router') {\n      setImmediate(done, null)\n      return\n    }\n\n    // no more matching layers\n    if (idx >= stack.length) {\n      setImmediate(done, layerError);\n      return;\n    }\n\n    // get pathname of request\n    var path = getPathname(req);\n\n    if (path == null) {\n      return done(layerError);\n    }\n\n    // find next matching layer\n    var layer;\n    var match;\n    var route;\n\n    while (match !== true && idx < stack.length) {\n      layer = stack[idx++];\n      match = matchLayer(layer, path);\n      route = layer.route;\n\n      if (typeof match !== 'boolean') {\n        // hold on to layerError\n        layerError = layerError || match;\n      }\n\n      if (match !== true) {\n        continue;\n      }\n\n      if (!route) {\n        // process non-route handlers normally\n        continue;\n      }\n\n      if (layerError) {\n        // routes do not match with a pending error\n        match = false;\n        continue;\n      }\n\n      var method = req.method;\n      var has_method = route._handles_method(method);\n\n      // build up automatic options response\n      if (!has_method && method === 'OPTIONS') {\n        appendMethods(options, route._options());\n      }\n\n      // don't even bother matching route\n      if (!has_method && method !== 'HEAD') {\n        match = false;\n        continue;\n      }\n    }\n\n    // no match\n    if (match !== true) {\n      return done(layerError);\n    }\n\n    // store route for dispatch on change\n    if (route) {\n      req.route = route;\n    }\n\n    // Capture one-time layer values\n    req.params = self.mergeParams\n      ? mergeParams(layer.params, parentParams)\n      : layer.params;\n    var layerPath = layer.path;\n\n    // this should be done for the layer\n    self.process_params(layer, paramcalled, req, res, function (err) {\n      if (err) {\n        return next(layerError || err);\n      }\n\n      if (route) {\n        return layer.handle_request(req, res, next);\n      }\n\n      trim_prefix(layer, layerError, layerPath, path);\n    });\n  }\n\n  function trim_prefix(layer, layerError, layerPath, path) {\n    if (layerPath.length !== 0) {\n      // Validate path breaks on a path separator\n      var c = path[layerPath.length]\n      if (c && c !== '/' && c !== '.') return next(layerError)\n\n      // Trim off the part of the url that matches the route\n      // middleware (.use stuff) needs to have the path stripped\n      debug('trim prefix (%s) from url %s', layerPath, req.url);\n      removed = layerPath;\n      req.url = protohost + req.url.substr(protohost.length + removed.length);\n\n      // Ensure leading slash\n      if (!protohost && req.url[0] !== '/') {\n        req.url = '/' + req.url;\n        slashAdded = true;\n      }\n\n      // Setup base URL (no trailing slash)\n      req.baseUrl = parentUrl + (removed[removed.length - 1] === '/'\n        ? removed.substring(0, removed.length - 1)\n        : removed);\n    }\n\n    debug('%s %s : %s', layer.name, layerPath, req.originalUrl);\n\n    if (layerError) {\n      layer.handle_error(layerError, req, res, next);\n    } else {\n      layer.handle_request(req, res, next);\n    }\n  }\n};\n\n/**\n * Process any parameters for the layer.\n * @private\n */\n\nproto.process_params = function process_params(layer, called, req, res, done) {\n  var params = this.params;\n\n  // captured parameters from the layer, keys and values\n  var keys = layer.keys;\n\n  // fast track\n  if (!keys || keys.length === 0) {\n    return done();\n  }\n\n  var i = 0;\n  var name;\n  var paramIndex = 0;\n  var key;\n  var paramVal;\n  var paramCallbacks;\n  var paramCalled;\n\n  // process params in order\n  // param callbacks can be async\n  function param(err) {\n    if (err) {\n      return done(err);\n    }\n\n    if (i >= keys.length ) {\n      return done();\n    }\n\n    paramIndex = 0;\n    key = keys[i++];\n    name = key.name;\n    paramVal = req.params[name];\n    paramCallbacks = params[name];\n    paramCalled = called[name];\n\n    if (paramVal === undefined || !paramCallbacks) {\n      return param();\n    }\n\n    // param previously called with same value or error occurred\n    if (paramCalled && (paramCalled.match === paramVal\n      || (paramCalled.error && paramCalled.error !== 'route'))) {\n      // restore value\n      req.params[name] = paramCalled.value;\n\n      // next param\n      return param(paramCalled.error);\n    }\n\n    called[name] = paramCalled = {\n      error: null,\n      match: paramVal,\n      value: paramVal\n    };\n\n    paramCallback();\n  }\n\n  // single param callbacks\n  function paramCallback(err) {\n    var fn = paramCallbacks[paramIndex++];\n\n    // store updated value\n    paramCalled.value = req.params[key.name];\n\n    if (err) {\n      // store error\n      paramCalled.error = err;\n      param(err);\n      return;\n    }\n\n    if (!fn) return param();\n\n    try {\n      fn(req, res, paramCallback, paramVal, key.name);\n    } catch (e) {\n      paramCallback(e);\n    }\n  }\n\n  param();\n};\n\n/**\n * Use the given middleware function, with optional path, defaulting to \"/\".\n *\n * Use (like `.all`) will run for any http METHOD, but it will not add\n * handlers for those methods so OPTIONS requests will not consider `.use`\n * functions even if they could respond.\n *\n * The other difference is that _route_ path is stripped and not visible\n * to the handler function. The main effect of this feature is that mounted\n * handlers can operate without any code changes regardless of the \"prefix\"\n * pathname.\n *\n * @public\n */\n\nproto.use = function use(fn) {\n  var offset = 0;\n  var path = '/';\n\n  // default path to '/'\n  // disambiguate router.use([fn])\n  if (typeof fn !== 'function') {\n    var arg = fn;\n\n    while (Array.isArray(arg) && arg.length !== 0) {\n      arg = arg[0];\n    }\n\n    // first arg is the path\n    if (typeof arg !== 'function') {\n      offset = 1;\n      path = fn;\n    }\n  }\n\n  var callbacks = flatten(slice.call(arguments, offset));\n\n  if (callbacks.length === 0) {\n    throw new TypeError('Router.use() requires a middleware function')\n  }\n\n  for (var i = 0; i < callbacks.length; i++) {\n    var fn = callbacks[i];\n\n    if (typeof fn !== 'function') {\n      throw new TypeError('Router.use() requires a middleware function but got a ' + gettype(fn))\n    }\n\n    // add the middleware\n    debug('use %o %s', path, fn.name || '<anonymous>')\n\n    var layer = new Layer(path, {\n      sensitive: this.caseSensitive,\n      strict: false,\n      end: false\n    }, fn);\n\n    layer.route = undefined;\n\n    this.stack.push(layer);\n  }\n\n  return this;\n};\n\n/**\n * Create a new Route for the given path.\n *\n * Each route contains a separate middleware stack and VERB handlers.\n *\n * See the Route api documentation for details on adding handlers\n * and middleware to routes.\n *\n * @param {String} path\n * @return {Route}\n * @public\n */\n\nproto.route = function route(path) {\n  var route = new Route(path);\n\n  var layer = new Layer(path, {\n    sensitive: this.caseSensitive,\n    strict: this.strict,\n    end: true\n  }, route.dispatch.bind(route));\n\n  layer.route = route;\n\n  this.stack.push(layer);\n  return route;\n};\n\n// create Router#VERB functions\nmethods.concat('all').forEach(function(method){\n  proto[method] = function(path){\n    var route = this.route(path)\n    route[method].apply(route, slice.call(arguments, 1));\n    return this;\n  };\n});\n\n// append methods to a list of methods\nfunction appendMethods(list, addition) {\n  for (var i = 0; i < addition.length; i++) {\n    var method = addition[i];\n    if (list.indexOf(method) === -1) {\n      list.push(method);\n    }\n  }\n}\n\n// get pathname of request\nfunction getPathname(req) {\n  try {\n    return parseUrl(req).pathname;\n  } catch (err) {\n    return undefined;\n  }\n}\n\n// Get get protocol + host for a URL\nfunction getProtohost(url) {\n  if (typeof url !== 'string' || url.length === 0 || url[0] === '/') {\n    return undefined\n  }\n\n  var searchIndex = url.indexOf('?')\n  var pathLength = searchIndex !== -1\n    ? searchIndex\n    : url.length\n  var fqdnIndex = url.substr(0, pathLength).indexOf('://')\n\n  return fqdnIndex !== -1\n    ? url.substr(0, url.indexOf('/', 3 + fqdnIndex))\n    : undefined\n}\n\n// get type for error message\nfunction gettype(obj) {\n  var type = typeof obj;\n\n  if (type !== 'object') {\n    return type;\n  }\n\n  // inspect [[Class]] for objects\n  return toString.call(obj)\n    .replace(objectRegExp, '$1');\n}\n\n/**\n * Match path to a layer.\n *\n * @param {Layer} layer\n * @param {string} path\n * @private\n */\n\nfunction matchLayer(layer, path) {\n  try {\n    return layer.match(path);\n  } catch (err) {\n    return err;\n  }\n}\n\n// merge params with parent params\nfunction mergeParams(params, parent) {\n  if (typeof parent !== 'object' || !parent) {\n    return params;\n  }\n\n  // make copy of parent for base\n  var obj = mixin({}, parent);\n\n  // simple non-numeric merging\n  if (!(0 in params) || !(0 in parent)) {\n    return mixin(obj, params);\n  }\n\n  var i = 0;\n  var o = 0;\n\n  // determine numeric gaps\n  while (i in params) {\n    i++;\n  }\n\n  while (o in parent) {\n    o++;\n  }\n\n  // offset numeric indices in params before merge\n  for (i--; i >= 0; i--) {\n    params[i + o] = params[i];\n\n    // create holes for the merge when necessary\n    if (i < o) {\n      delete params[i];\n    }\n  }\n\n  return mixin(obj, params);\n}\n\n// restore obj props after function\nfunction restore(fn, obj) {\n  var props = new Array(arguments.length - 2);\n  var vals = new Array(arguments.length - 2);\n\n  for (var i = 0; i < props.length; i++) {\n    props[i] = arguments[i + 2];\n    vals[i] = obj[props[i]];\n  }\n\n  return function () {\n    // restore vals\n    for (var i = 0; i < props.length; i++) {\n      obj[props[i]] = vals[i];\n    }\n\n    return fn.apply(this, arguments);\n  };\n}\n\n// send an OPTIONS response\nfunction sendOptionsResponse(res, options, next) {\n  try {\n    var body = options.join(',');\n    res.set('Allow', body);\n    res.send(body);\n  } catch (err) {\n    next(err);\n  }\n}\n\n// wrap a function\nfunction wrap(old, fn) {\n  return function proxy() {\n    var args = new Array(arguments.length + 1);\n\n    args[0] = old;\n    for (var i = 0, len = arguments.length; i < len; i++) {\n      args[i + 1] = arguments[i];\n    }\n\n    fn.apply(this, args);\n  };\n}\n\n};"],
"names":["shadow$provide","global","require","module","exports","appendMethods","list","addition","i","length","method","indexOf","push","getProtohost","url","searchIndex","fqdnIndex","substr","pathLength","undefined","mergeParams","params","parent","obj","mixin","o","restore","fn","props","Array","arguments","vals","apply","wrap","old","proxy","args","len","Route","Layer","methods","debug","deprecate","flatten","parseUrl","setPrototypeOf","objectRegExp","slice","prototype","toString","Object","proto","module.exports","options","router","req","res","next","handle","opts","_params","caseSensitive","strict","stack","param","proto.param","name","ret","JSON","stringify","Error","proto.handle","out","err","layerError","slashAdded","removed","baseUrl","parentUrl","protohost","setImmediate","done","idx","pathname","path","layer","match","route","has_method","_handles_method","_options","self","parentParams","layerPath","process_params","paramcalled","handle_request","c","substring","originalUrl","handle_error","body","join","set","send","proto.process_params","called","keys","paramIndex","key","paramVal","paramCallbacks","paramCalled","error","value","paramCallback","e","use","proto.use","offset","arg","isArray","callbacks","call","TypeError","type","replace","sensitive","end","proto.route","dispatch","bind","concat","forEach"]
}
