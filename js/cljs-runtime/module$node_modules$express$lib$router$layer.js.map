{
"version":3,
"file":"module$node_modules$express$lib$router$layer.js",
"lineCount":4,
"mappings":"AAAAA,cAAA,6CAAA,CAAiE,QAAQ,CAACC,MAAD,CAAQC,OAAR,CAAgBC,MAAhB,CAAuBC,OAAvB,CAAgC,CAiCzGC,QAASA,MAAK,CAACC,IAAD,CAAOC,OAAP,CAAgBC,EAAhB,CAAoB,CAChC,GAAI,EAAE,IAAF,WAAkBH,MAAlB,CAAJ,CACE,MAAO,KAAIA,KAAJ,CAAUC,IAAV,CAAgBC,OAAhB,CAAyBC,EAAzB,CAGTC,MAAA,CAAM,QAAN,CAAgBH,IAAhB,CACII,QAAAA,CAAOH,OAAPG,EAAkB,EAEtB,KAAAC,OAAA,CAAcH,EACd,KAAAI,KAAA,CAAYJ,EAAAI,KAAZ,EAAuB,mBAEvB,KAAAN,KAAA,CADA,IAAAO,OACA,CADcC,IAAAA,EAEd,KAAAC,OAAA,CAAcC,UAAA,CAAWV,IAAX,CAAiB,IAAAW,KAAjB,CAA6B,EAA7B,CAAiCP,OAAjC,CAGd,KAAAK,OAAAG,UAAA,CAAiC,GAAjC,GAAwBZ,IACxB,KAAAS,OAAAI,WAAA,CAAkC,GAAlC,GAAyBb,IAAzB,EAAsD,CAAA,CAAtD,GAAyCI,OAAAU,IAhBT,CAqIlCC,QAASA,aAAY,CAACC,GAAD,CAAM,CACzB,GAAmB,QAAnB,GAAI,MAAOA,IAAX;AAA8C,CAA9C,GAA+BA,GAAAC,OAA/B,CACE,MAAOD,IAGT,IAAI,CACF,MAAOE,mBAAA,CAAmBF,GAAnB,CADL,CAEF,MAAOG,GAAP,CAAY,CAMZ,KALIA,IAKEA,WALaC,SAKbD,GAJJA,GAAAE,QACA,CADc,0BACd,CAD4CL,GAC5C,CADkD,GAClD,CAAAG,GAAAG,OAAA,CAAaH,GAAAI,WAAb,CAA8B,GAG1BJ,EAAAA,GAAN,CANY,CAPW,CAtJ3B,IAAIT,WAAad,OAAA,CAAQ,0CAAR,CAAjB,CACIO,MAAQP,OAAA,CAAQ,uCAAR,CAAA,CAAiB,sBAAjB,CADZ,CAQI4B,eAAiBC,MAAAC,UAAAF,eAOrB3B,OAAAC,QAAA,CAAiBC,KA+BjBA,MAAA2B,UAAAC,aAAA,CAA+BC,QAAqB,CAACC,KAAD,CAAQC,GAAR,CAAaC,GAAb,CAAkBC,IAAlB,CAAwB,CAC1E,IAAI9B,GAAK,IAAAG,OAET,IAAkB,CAAlB,GAAIH,EAAAe,OAAJ,CAEE,MAAOe,KAAA,CAAKH,KAAL,CAGT;GAAI,CACF3B,EAAA,CAAG2B,KAAH,CAAUC,GAAV,CAAeC,GAAf,CAAoBC,IAApB,CADE,CAEF,MAAOb,GAAP,CAAY,CACZa,IAAA,CAAKb,GAAL,CADY,CAV4D,CAwB5EpB,MAAA2B,UAAAO,eAAA,CAAiCC,QAAe,CAACJ,GAAD,CAAMC,GAAN,CAAWC,IAAX,CAAiB,CAC/D,IAAI9B,GAAK,IAAAG,OAET,IAAgB,CAAhB,CAAIH,EAAAe,OAAJ,CAEE,MAAOe,KAAA,EAGT,IAAI,CACF9B,EAAA,CAAG4B,GAAH,CAAQC,GAAR,CAAaC,IAAb,CADE,CAEF,MAAOb,GAAP,CAAY,CACZa,IAAA,CAAKb,GAAL,CADY,CAViD,CAwBjEpB,MAAA2B,UAAAS,MAAA,CAAwBC,QAAc,CAACpC,IAAD,CAAO,CAG3C,GAAY,IAAZ,EAAIA,IAAJ,CAAkB,CAEhB,GAAI,IAAAS,OAAAI,WAAJ,CAGE,MAFA,KAAAN,OAEO,CAFO,EAEP,CADP,IAAAP,KACO,CADK,EACL,CAAA,CAAA,CAIT,IAAI,IAAAS,OAAAG,UAAJ,CAGE,MAFA,KAAAL,OAEO,CAFO,CAAC,EAAKQ,YAAA,CAAaf,IAAb,CAAN,CAEP,CADP,IAAAA,KACO,CADKA,IACL,CAAA,CAAA,CAIT,KAAAmC,MAAQ,IAAA1B,OAAA4B,KAAA,CAAiBrC,IAAjB,CAhBQ,CAmBlB,GAAI,CAACmC,KAAL,CAGE,MADA,KAAAnC,KACO,CAFP,IAAAO,OAEO,CAFOC,IAAAA,EAEP,CAAA,CAAA,CAIT,KAAAD,OAAA,CAAc,EACd,KAAAP,KAAA;AAAYmC,KAAA,CAAM,CAAN,CAERxB,KAAAA,CAAO,IAAAA,KAGX,KAFA,IAAIJ,OAAS,IAAAA,OAAb,CAES+B,EAAI,CAAb,CAAgBA,CAAhB,CAAoBH,KAAAlB,OAApB,CAAkCqB,CAAA,EAAlC,CAAuC,CAErC,IAAIC,KADM5B,IAAA6B,CAAKF,CAALE,CAAS,CAATA,CACClC,KAAX,CACIU,IAAMD,YAAA,CAAaoB,KAAA,CAAMG,CAAN,CAAb,CAEE9B,KAAAA,EAAZ,GAAIQ,GAAJ,EAA2BQ,cAAAiB,KAAA,CAAoBlC,MAApB,CAA4BgC,IAA5B,CAA3B,GACEhC,MAAA,CAAOgC,IAAP,CADF,CACiBvB,GADjB,CALqC,CAUvC,MAAO,CAAA,CA7CoC,CA9G4D;",
"sources":["node_modules/express/lib/router/layer.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$express$lib$router$layer\"] = function(global,require,module,exports) {\n/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2013 Roman Shtylman\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar pathRegexp = require('path-to-regexp');\nvar debug = require('debug')('express:router:layer');\n\n/**\n * Module variables.\n * @private\n */\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = Layer;\n\nfunction Layer(path, options, fn) {\n  if (!(this instanceof Layer)) {\n    return new Layer(path, options, fn);\n  }\n\n  debug('new %o', path)\n  var opts = options || {};\n\n  this.handle = fn;\n  this.name = fn.name || '<anonymous>';\n  this.params = undefined;\n  this.path = undefined;\n  this.regexp = pathRegexp(path, this.keys = [], opts);\n\n  // set fast path flags\n  this.regexp.fast_star = path === '*'\n  this.regexp.fast_slash = path === '/' && opts.end === false\n}\n\n/**\n * Handle the error for the layer.\n *\n * @param {Error} error\n * @param {Request} req\n * @param {Response} res\n * @param {function} next\n * @api private\n */\n\nLayer.prototype.handle_error = function handle_error(error, req, res, next) {\n  var fn = this.handle;\n\n  if (fn.length !== 4) {\n    // not a standard error handler\n    return next(error);\n  }\n\n  try {\n    fn(error, req, res, next);\n  } catch (err) {\n    next(err);\n  }\n};\n\n/**\n * Handle the request for the layer.\n *\n * @param {Request} req\n * @param {Response} res\n * @param {function} next\n * @api private\n */\n\nLayer.prototype.handle_request = function handle(req, res, next) {\n  var fn = this.handle;\n\n  if (fn.length > 3) {\n    // not a standard request handler\n    return next();\n  }\n\n  try {\n    fn(req, res, next);\n  } catch (err) {\n    next(err);\n  }\n};\n\n/**\n * Check if this route matches `path`, if so\n * populate `.params`.\n *\n * @param {String} path\n * @return {Boolean}\n * @api private\n */\n\nLayer.prototype.match = function match(path) {\n  var match\n\n  if (path != null) {\n    // fast path non-ending match for / (any path matches)\n    if (this.regexp.fast_slash) {\n      this.params = {}\n      this.path = ''\n      return true\n    }\n\n    // fast path for * (everything matched in a param)\n    if (this.regexp.fast_star) {\n      this.params = {'0': decode_param(path)}\n      this.path = path\n      return true\n    }\n\n    // match the path\n    match = this.regexp.exec(path)\n  }\n\n  if (!match) {\n    this.params = undefined;\n    this.path = undefined;\n    return false;\n  }\n\n  // store values\n  this.params = {};\n  this.path = match[0]\n\n  var keys = this.keys;\n  var params = this.params;\n\n  for (var i = 1; i < match.length; i++) {\n    var key = keys[i - 1];\n    var prop = key.name;\n    var val = decode_param(match[i])\n\n    if (val !== undefined || !(hasOwnProperty.call(params, prop))) {\n      params[prop] = val;\n    }\n  }\n\n  return true;\n};\n\n/**\n * Decode param value.\n *\n * @param {string} val\n * @return {string}\n * @private\n */\n\nfunction decode_param(val) {\n  if (typeof val !== 'string' || val.length === 0) {\n    return val;\n  }\n\n  try {\n    return decodeURIComponent(val);\n  } catch (err) {\n    if (err instanceof URIError) {\n      err.message = 'Failed to decode param \\'' + val + '\\'';\n      err.status = err.statusCode = 400;\n    }\n\n    throw err;\n  }\n}\n\n};"],
"names":["shadow$provide","global","require","module","exports","Layer","path","options","fn","debug","opts","handle","name","params","undefined","regexp","pathRegexp","keys","fast_star","fast_slash","end","decode_param","val","length","decodeURIComponent","err","URIError","message","status","statusCode","hasOwnProperty","Object","prototype","handle_error","Layer.prototype.handle_error","error","req","res","next","handle_request","Layer.prototype.handle_request","match","Layer.prototype.match","exec","i","prop","key","call"]
}
