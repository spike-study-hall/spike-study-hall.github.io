shadow$provide.module$node_modules$express$lib$view=function(global,require,module,exports){function View(name,options){options=options||{};this.defaultEngine=options.defaultEngine;this.ext=extname(name);this.name=name;this.root=options.root;if(!this.ext&&!this.defaultEngine)throw Error("No default engine was specified and no extension was provided.");this.ext||(this.ext="."!==this.defaultEngine[0]?"."+this.defaultEngine:this.defaultEngine,name+=this.ext);if(!options.engines[this.ext]){var mod=this.ext.substr(1);
debug('require "%s"',mod);var fn=require(mod).__express;if("function"!==typeof fn)throw Error('Module "'+mod+'" does not provide a view engine.');options.engines[this.ext]=fn}this.engine=options.engines[this.ext];this.path=this.lookup(name)}function tryStat(path){debug('stat "%s"',path);try{return fs.statSync(path)}catch(e){}}var debug=require("module$node_modules$debug$src$browser")("express:view");global=require("module$node_modules$path_browserify$index");var fs=require("shadow$empty"),dirname=
global.dirname,basename=global.basename,extname=global.extname,join=global.join,resolve=global.resolve;module.exports=View;View.prototype.lookup=function(name){var roots=[].concat(this.root);debug('lookup "%s"',name);for(var i=0;i<roots.length&&!path;i++){var loc=resolve(roots[i],name);var path=dirname(loc);loc=basename(loc);path=this.resolve(path,loc)}return path};View.prototype.render=function(options,callback){debug('render "%s"',this.path);this.engine(this.path,options,callback)};View.prototype.resolve=
function(dir,file){var ext=this.ext,path=join(dir,file),stat=tryStat(path);if(stat&&stat.isFile())return path;path=join(dir,basename(file,ext),"index"+ext);if((stat=tryStat(path))&&stat.isFile())return path}}
//# sourceMappingURL=module$node_modules$express$lib$view.js.map
