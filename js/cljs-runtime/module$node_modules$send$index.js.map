{
"version":3,
"file":"module$node_modules$send$index.js",
"lineCount":27,
"mappings":"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",
"sources":["node_modules/send/index.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$send$index\"] = function(global,require,module,exports) {\nvar Buffer = require('buffer').Buffer;\n/*!\n * send\n * Copyright(c) 2012 TJ Holowaychuk\n * Copyright(c) 2014-2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar createError = require('http-errors')\nvar debug = require('debug')('send')\nvar deprecate = require('depd')('send')\nvar destroy = require('destroy')\nvar encodeUrl = require('encodeurl')\nvar escapeHtml = require('escape-html')\nvar etag = require('etag')\nvar fresh = require('fresh')\nvar fs = require('fs')\nvar mime = require('mime')\nvar ms = require('ms')\nvar onFinished = require('on-finished')\nvar parseRange = require('range-parser')\nvar path = require('path')\nvar statuses = require('statuses')\nvar Stream = require('stream')\nvar util = require('util')\n\n/**\n * Path function references.\n * @private\n */\n\nvar extname = path.extname\nvar join = path.join\nvar normalize = path.normalize\nvar resolve = path.resolve\nvar sep = path.sep\n\n/**\n * Regular expression for identifying a bytes Range header.\n * @private\n */\n\nvar BYTES_RANGE_REGEXP = /^ *bytes=/\n\n/**\n * Maximum value allowed for the max age.\n * @private\n */\n\nvar MAX_MAXAGE = 60 * 60 * 24 * 365 * 1000 // 1 year\n\n/**\n * Regular expression to match a path with a directory up component.\n * @private\n */\n\nvar UP_PATH_REGEXP = /(?:^|[\\\\/])\\.\\.(?:[\\\\/]|$)/\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = send\nmodule.exports.mime = mime\n\n/**\n * Return a `SendStream` for `req` and `path`.\n *\n * @param {object} req\n * @param {string} path\n * @param {object} [options]\n * @return {SendStream}\n * @public\n */\n\nfunction send (req, path, options) {\n  return new SendStream(req, path, options)\n}\n\n/**\n * Initialize a `SendStream` with the given `path`.\n *\n * @param {Request} req\n * @param {String} path\n * @param {object} [options]\n * @private\n */\n\nfunction SendStream (req, path, options) {\n  Stream.call(this)\n\n  var opts = options || {}\n\n  this.options = opts\n  this.path = path\n  this.req = req\n\n  this._acceptRanges = opts.acceptRanges !== undefined\n    ? Boolean(opts.acceptRanges)\n    : true\n\n  this._cacheControl = opts.cacheControl !== undefined\n    ? Boolean(opts.cacheControl)\n    : true\n\n  this._etag = opts.etag !== undefined\n    ? Boolean(opts.etag)\n    : true\n\n  this._dotfiles = opts.dotfiles !== undefined\n    ? opts.dotfiles\n    : 'ignore'\n\n  if (this._dotfiles !== 'ignore' && this._dotfiles !== 'allow' && this._dotfiles !== 'deny') {\n    throw new TypeError('dotfiles option must be \"allow\", \"deny\", or \"ignore\"')\n  }\n\n  this._hidden = Boolean(opts.hidden)\n\n  if (opts.hidden !== undefined) {\n    deprecate('hidden: use dotfiles: \\'' + (this._hidden ? 'allow' : 'ignore') + '\\' instead')\n  }\n\n  // legacy support\n  if (opts.dotfiles === undefined) {\n    this._dotfiles = undefined\n  }\n\n  this._extensions = opts.extensions !== undefined\n    ? normalizeList(opts.extensions, 'extensions option')\n    : []\n\n  this._immutable = opts.immutable !== undefined\n    ? Boolean(opts.immutable)\n    : false\n\n  this._index = opts.index !== undefined\n    ? normalizeList(opts.index, 'index option')\n    : ['index.html']\n\n  this._lastModified = opts.lastModified !== undefined\n    ? Boolean(opts.lastModified)\n    : true\n\n  this._maxage = opts.maxAge || opts.maxage\n  this._maxage = typeof this._maxage === 'string'\n    ? ms(this._maxage)\n    : Number(this._maxage)\n  this._maxage = !isNaN(this._maxage)\n    ? Math.min(Math.max(0, this._maxage), MAX_MAXAGE)\n    : 0\n\n  this._root = opts.root\n    ? resolve(opts.root)\n    : null\n\n  if (!this._root && opts.from) {\n    this.from(opts.from)\n  }\n}\n\n/**\n * Inherits from `Stream`.\n */\n\nutil.inherits(SendStream, Stream)\n\n/**\n * Enable or disable etag generation.\n *\n * @param {Boolean} val\n * @return {SendStream}\n * @api public\n */\n\nSendStream.prototype.etag = deprecate.function(function etag (val) {\n  this._etag = Boolean(val)\n  debug('etag %s', this._etag)\n  return this\n}, 'send.etag: pass etag as option')\n\n/**\n * Enable or disable \"hidden\" (dot) files.\n *\n * @param {Boolean} path\n * @return {SendStream}\n * @api public\n */\n\nSendStream.prototype.hidden = deprecate.function(function hidden (val) {\n  this._hidden = Boolean(val)\n  this._dotfiles = undefined\n  debug('hidden %s', this._hidden)\n  return this\n}, 'send.hidden: use dotfiles option')\n\n/**\n * Set index `paths`, set to a falsy\n * value to disable index support.\n *\n * @param {String|Boolean|Array} paths\n * @return {SendStream}\n * @api public\n */\n\nSendStream.prototype.index = deprecate.function(function index (paths) {\n  var index = !paths ? [] : normalizeList(paths, 'paths argument')\n  debug('index %o', paths)\n  this._index = index\n  return this\n}, 'send.index: pass index as option')\n\n/**\n * Set root `path`.\n *\n * @param {String} path\n * @return {SendStream}\n * @api public\n */\n\nSendStream.prototype.root = function root (path) {\n  this._root = resolve(String(path))\n  debug('root %s', this._root)\n  return this\n}\n\nSendStream.prototype.from = deprecate.function(SendStream.prototype.root,\n  'send.from: pass root as option')\n\nSendStream.prototype.root = deprecate.function(SendStream.prototype.root,\n  'send.root: pass root as option')\n\n/**\n * Set max-age to `maxAge`.\n *\n * @param {Number} maxAge\n * @return {SendStream}\n * @api public\n */\n\nSendStream.prototype.maxage = deprecate.function(function maxage (maxAge) {\n  this._maxage = typeof maxAge === 'string'\n    ? ms(maxAge)\n    : Number(maxAge)\n  this._maxage = !isNaN(this._maxage)\n    ? Math.min(Math.max(0, this._maxage), MAX_MAXAGE)\n    : 0\n  debug('max-age %d', this._maxage)\n  return this\n}, 'send.maxage: pass maxAge as option')\n\n/**\n * Emit error with `status`.\n *\n * @param {number} status\n * @param {Error} [err]\n * @private\n */\n\nSendStream.prototype.error = function error (status, err) {\n  // emit if listeners instead of responding\n  if (hasListeners(this, 'error')) {\n    return this.emit('error', createError(status, err, {\n      expose: false\n    }))\n  }\n\n  var res = this.res\n  var msg = statuses[status] || String(status)\n  var doc = createHtmlDocument('Error', escapeHtml(msg))\n\n  // clear existing headers\n  clearHeaders(res)\n\n  // add error headers\n  if (err && err.headers) {\n    setHeaders(res, err.headers)\n  }\n\n  // send basic response\n  res.statusCode = status\n  res.setHeader('Content-Type', 'text/html; charset=UTF-8')\n  res.setHeader('Content-Length', Buffer.byteLength(doc))\n  res.setHeader('Content-Security-Policy', \"default-src 'none'\")\n  res.setHeader('X-Content-Type-Options', 'nosniff')\n  res.end(doc)\n}\n\n/**\n * Check if the pathname ends with \"/\".\n *\n * @return {boolean}\n * @private\n */\n\nSendStream.prototype.hasTrailingSlash = function hasTrailingSlash () {\n  return this.path[this.path.length - 1] === '/'\n}\n\n/**\n * Check if this is a conditional GET request.\n *\n * @return {Boolean}\n * @api private\n */\n\nSendStream.prototype.isConditionalGET = function isConditionalGET () {\n  return this.req.headers['if-match'] ||\n    this.req.headers['if-unmodified-since'] ||\n    this.req.headers['if-none-match'] ||\n    this.req.headers['if-modified-since']\n}\n\n/**\n * Check if the request preconditions failed.\n *\n * @return {boolean}\n * @private\n */\n\nSendStream.prototype.isPreconditionFailure = function isPreconditionFailure () {\n  var req = this.req\n  var res = this.res\n\n  // if-match\n  var match = req.headers['if-match']\n  if (match) {\n    var etag = res.getHeader('ETag')\n    return !etag || (match !== '*' && parseTokenList(match).every(function (match) {\n      return match !== etag && match !== 'W/' + etag && 'W/' + match !== etag\n    }))\n  }\n\n  // if-unmodified-since\n  var unmodifiedSince = parseHttpDate(req.headers['if-unmodified-since'])\n  if (!isNaN(unmodifiedSince)) {\n    var lastModified = parseHttpDate(res.getHeader('Last-Modified'))\n    return isNaN(lastModified) || lastModified > unmodifiedSince\n  }\n\n  return false\n}\n\n/**\n * Strip content-* header fields.\n *\n * @private\n */\n\nSendStream.prototype.removeContentHeaderFields = function removeContentHeaderFields () {\n  var res = this.res\n  var headers = getHeaderNames(res)\n\n  for (var i = 0; i < headers.length; i++) {\n    var header = headers[i]\n    if (header.substr(0, 8) === 'content-' && header !== 'content-location') {\n      res.removeHeader(header)\n    }\n  }\n}\n\n/**\n * Respond with 304 not modified.\n *\n * @api private\n */\n\nSendStream.prototype.notModified = function notModified () {\n  var res = this.res\n  debug('not modified')\n  this.removeContentHeaderFields()\n  res.statusCode = 304\n  res.end()\n}\n\n/**\n * Raise error that headers already sent.\n *\n * @api private\n */\n\nSendStream.prototype.headersAlreadySent = function headersAlreadySent () {\n  var err = new Error('Can\\'t set headers after they are sent.')\n  debug('headers already sent')\n  this.error(500, err)\n}\n\n/**\n * Check if the request is cacheable, aka\n * responded with 2xx or 304 (see RFC 2616 section 14.2{5,6}).\n *\n * @return {Boolean}\n * @api private\n */\n\nSendStream.prototype.isCachable = function isCachable () {\n  var statusCode = this.res.statusCode\n  return (statusCode >= 200 && statusCode < 300) ||\n    statusCode === 304\n}\n\n/**\n * Handle stat() error.\n *\n * @param {Error} error\n * @private\n */\n\nSendStream.prototype.onStatError = function onStatError (error) {\n  switch (error.code) {\n    case 'ENAMETOOLONG':\n    case 'ENOENT':\n    case 'ENOTDIR':\n      this.error(404, error)\n      break\n    default:\n      this.error(500, error)\n      break\n  }\n}\n\n/**\n * Check if the cache is fresh.\n *\n * @return {Boolean}\n * @api private\n */\n\nSendStream.prototype.isFresh = function isFresh () {\n  return fresh(this.req.headers, {\n    'etag': this.res.getHeader('ETag'),\n    'last-modified': this.res.getHeader('Last-Modified')\n  })\n}\n\n/**\n * Check if the range is fresh.\n *\n * @return {Boolean}\n * @api private\n */\n\nSendStream.prototype.isRangeFresh = function isRangeFresh () {\n  var ifRange = this.req.headers['if-range']\n\n  if (!ifRange) {\n    return true\n  }\n\n  // if-range as etag\n  if (ifRange.indexOf('\"') !== -1) {\n    var etag = this.res.getHeader('ETag')\n    return Boolean(etag && ifRange.indexOf(etag) !== -1)\n  }\n\n  // if-range as modified date\n  var lastModified = this.res.getHeader('Last-Modified')\n  return parseHttpDate(lastModified) <= parseHttpDate(ifRange)\n}\n\n/**\n * Redirect to path.\n *\n * @param {string} path\n * @private\n */\n\nSendStream.prototype.redirect = function redirect (path) {\n  var res = this.res\n\n  if (hasListeners(this, 'directory')) {\n    this.emit('directory', res, path)\n    return\n  }\n\n  if (this.hasTrailingSlash()) {\n    this.error(403)\n    return\n  }\n\n  var loc = encodeUrl(collapseLeadingSlashes(this.path + '/'))\n  var doc = createHtmlDocument('Redirecting', 'Redirecting to <a href=\"' + escapeHtml(loc) + '\">' +\n    escapeHtml(loc) + '</a>')\n\n  // redirect\n  res.statusCode = 301\n  res.setHeader('Content-Type', 'text/html; charset=UTF-8')\n  res.setHeader('Content-Length', Buffer.byteLength(doc))\n  res.setHeader('Content-Security-Policy', \"default-src 'none'\")\n  res.setHeader('X-Content-Type-Options', 'nosniff')\n  res.setHeader('Location', loc)\n  res.end(doc)\n}\n\n/**\n * Pipe to `res.\n *\n * @param {Stream} res\n * @return {Stream} res\n * @api public\n */\n\nSendStream.prototype.pipe = function pipe (res) {\n  // root path\n  var root = this._root\n\n  // references\n  this.res = res\n\n  // decode the path\n  var path = decode(this.path)\n  if (path === -1) {\n    this.error(400)\n    return res\n  }\n\n  // null byte(s)\n  if (~path.indexOf('\\0')) {\n    this.error(400)\n    return res\n  }\n\n  var parts\n  if (root !== null) {\n    // normalize\n    if (path) {\n      path = normalize('.' + sep + path)\n    }\n\n    // malicious path\n    if (UP_PATH_REGEXP.test(path)) {\n      debug('malicious path \"%s\"', path)\n      this.error(403)\n      return res\n    }\n\n    // explode path parts\n    parts = path.split(sep)\n\n    // join / normalize from optional root dir\n    path = normalize(join(root, path))\n  } else {\n    // \"..\" is malicious without \"root\"\n    if (UP_PATH_REGEXP.test(path)) {\n      debug('malicious path \"%s\"', path)\n      this.error(403)\n      return res\n    }\n\n    // explode path parts\n    parts = normalize(path).split(sep)\n\n    // resolve the path\n    path = resolve(path)\n  }\n\n  // dotfile handling\n  if (containsDotFile(parts)) {\n    var access = this._dotfiles\n\n    // legacy support\n    if (access === undefined) {\n      access = parts[parts.length - 1][0] === '.'\n        ? (this._hidden ? 'allow' : 'ignore')\n        : 'allow'\n    }\n\n    debug('%s dotfile \"%s\"', access, path)\n    switch (access) {\n      case 'allow':\n        break\n      case 'deny':\n        this.error(403)\n        return res\n      case 'ignore':\n      default:\n        this.error(404)\n        return res\n    }\n  }\n\n  // index file support\n  if (this._index.length && this.hasTrailingSlash()) {\n    this.sendIndex(path)\n    return res\n  }\n\n  this.sendFile(path)\n  return res\n}\n\n/**\n * Transfer `path`.\n *\n * @param {String} path\n * @api public\n */\n\nSendStream.prototype.send = function send (path, stat) {\n  var len = stat.size\n  var options = this.options\n  var opts = {}\n  var res = this.res\n  var req = this.req\n  var ranges = req.headers.range\n  var offset = options.start || 0\n\n  if (headersSent(res)) {\n    // impossible to send now\n    this.headersAlreadySent()\n    return\n  }\n\n  debug('pipe \"%s\"', path)\n\n  // set header fields\n  this.setHeader(path, stat)\n\n  // set content-type\n  this.type(path)\n\n  // conditional GET support\n  if (this.isConditionalGET()) {\n    if (this.isPreconditionFailure()) {\n      this.error(412)\n      return\n    }\n\n    if (this.isCachable() && this.isFresh()) {\n      this.notModified()\n      return\n    }\n  }\n\n  // adjust len to start/end options\n  len = Math.max(0, len - offset)\n  if (options.end !== undefined) {\n    var bytes = options.end - offset + 1\n    if (len > bytes) len = bytes\n  }\n\n  // Range support\n  if (this._acceptRanges && BYTES_RANGE_REGEXP.test(ranges)) {\n    // parse\n    ranges = parseRange(len, ranges, {\n      combine: true\n    })\n\n    // If-Range support\n    if (!this.isRangeFresh()) {\n      debug('range stale')\n      ranges = -2\n    }\n\n    // unsatisfiable\n    if (ranges === -1) {\n      debug('range unsatisfiable')\n\n      // Content-Range\n      res.setHeader('Content-Range', contentRange('bytes', len))\n\n      // 416 Requested Range Not Satisfiable\n      return this.error(416, {\n        headers: { 'Content-Range': res.getHeader('Content-Range') }\n      })\n    }\n\n    // valid (syntactically invalid/multiple ranges are treated as a regular response)\n    if (ranges !== -2 && ranges.length === 1) {\n      debug('range %j', ranges)\n\n      // Content-Range\n      res.statusCode = 206\n      res.setHeader('Content-Range', contentRange('bytes', len, ranges[0]))\n\n      // adjust for requested range\n      offset += ranges[0].start\n      len = ranges[0].end - ranges[0].start + 1\n    }\n  }\n\n  // clone options\n  for (var prop in options) {\n    opts[prop] = options[prop]\n  }\n\n  // set read options\n  opts.start = offset\n  opts.end = Math.max(offset, offset + len - 1)\n\n  // content-length\n  res.setHeader('Content-Length', len)\n\n  // HEAD support\n  if (req.method === 'HEAD') {\n    res.end()\n    return\n  }\n\n  this.stream(path, opts)\n}\n\n/**\n * Transfer file for `path`.\n *\n * @param {String} path\n * @api private\n */\nSendStream.prototype.sendFile = function sendFile (path) {\n  var i = 0\n  var self = this\n\n  debug('stat \"%s\"', path)\n  fs.stat(path, function onstat (err, stat) {\n    if (err && err.code === 'ENOENT' && !extname(path) && path[path.length - 1] !== sep) {\n      // not found, check extensions\n      return next(err)\n    }\n    if (err) return self.onStatError(err)\n    if (stat.isDirectory()) return self.redirect(path)\n    self.emit('file', path, stat)\n    self.send(path, stat)\n  })\n\n  function next (err) {\n    if (self._extensions.length <= i) {\n      return err\n        ? self.onStatError(err)\n        : self.error(404)\n    }\n\n    var p = path + '.' + self._extensions[i++]\n\n    debug('stat \"%s\"', p)\n    fs.stat(p, function (err, stat) {\n      if (err) return next(err)\n      if (stat.isDirectory()) return next()\n      self.emit('file', p, stat)\n      self.send(p, stat)\n    })\n  }\n}\n\n/**\n * Transfer index for `path`.\n *\n * @param {String} path\n * @api private\n */\nSendStream.prototype.sendIndex = function sendIndex (path) {\n  var i = -1\n  var self = this\n\n  function next (err) {\n    if (++i >= self._index.length) {\n      if (err) return self.onStatError(err)\n      return self.error(404)\n    }\n\n    var p = join(path, self._index[i])\n\n    debug('stat \"%s\"', p)\n    fs.stat(p, function (err, stat) {\n      if (err) return next(err)\n      if (stat.isDirectory()) return next()\n      self.emit('file', p, stat)\n      self.send(p, stat)\n    })\n  }\n\n  next()\n}\n\n/**\n * Stream `path` to the response.\n *\n * @param {String} path\n * @param {Object} options\n * @api private\n */\n\nSendStream.prototype.stream = function stream (path, options) {\n  // TODO: this is all lame, refactor meeee\n  var finished = false\n  var self = this\n  var res = this.res\n\n  // pipe\n  var stream = fs.createReadStream(path, options)\n  this.emit('stream', stream)\n  stream.pipe(res)\n\n  // response finished, done with the fd\n  onFinished(res, function onfinished () {\n    finished = true\n    destroy(stream)\n  })\n\n  // error handling code-smell\n  stream.on('error', function onerror (err) {\n    // request already finished\n    if (finished) return\n\n    // clean up stream\n    finished = true\n    destroy(stream)\n\n    // error\n    self.onStatError(err)\n  })\n\n  // end\n  stream.on('end', function onend () {\n    self.emit('end')\n  })\n}\n\n/**\n * Set content-type based on `path`\n * if it hasn't been explicitly set.\n *\n * @param {String} path\n * @api private\n */\n\nSendStream.prototype.type = function type (path) {\n  var res = this.res\n\n  if (res.getHeader('Content-Type')) return\n\n  var type = mime.lookup(path)\n\n  if (!type) {\n    debug('no content-type')\n    return\n  }\n\n  var charset = mime.charsets.lookup(type)\n\n  debug('content-type %s', type)\n  res.setHeader('Content-Type', type + (charset ? '; charset=' + charset : ''))\n}\n\n/**\n * Set response header fields, most\n * fields may be pre-defined.\n *\n * @param {String} path\n * @param {Object} stat\n * @api private\n */\n\nSendStream.prototype.setHeader = function setHeader (path, stat) {\n  var res = this.res\n\n  this.emit('headers', res, path, stat)\n\n  if (this._acceptRanges && !res.getHeader('Accept-Ranges')) {\n    debug('accept ranges')\n    res.setHeader('Accept-Ranges', 'bytes')\n  }\n\n  if (this._cacheControl && !res.getHeader('Cache-Control')) {\n    var cacheControl = 'public, max-age=' + Math.floor(this._maxage / 1000)\n\n    if (this._immutable) {\n      cacheControl += ', immutable'\n    }\n\n    debug('cache-control %s', cacheControl)\n    res.setHeader('Cache-Control', cacheControl)\n  }\n\n  if (this._lastModified && !res.getHeader('Last-Modified')) {\n    var modified = stat.mtime.toUTCString()\n    debug('modified %s', modified)\n    res.setHeader('Last-Modified', modified)\n  }\n\n  if (this._etag && !res.getHeader('ETag')) {\n    var val = etag(stat)\n    debug('etag %s', val)\n    res.setHeader('ETag', val)\n  }\n}\n\n/**\n * Clear all headers from a response.\n *\n * @param {object} res\n * @private\n */\n\nfunction clearHeaders (res) {\n  var headers = getHeaderNames(res)\n\n  for (var i = 0; i < headers.length; i++) {\n    res.removeHeader(headers[i])\n  }\n}\n\n/**\n * Collapse all leading slashes into a single slash\n *\n * @param {string} str\n * @private\n */\nfunction collapseLeadingSlashes (str) {\n  for (var i = 0; i < str.length; i++) {\n    if (str[i] !== '/') {\n      break\n    }\n  }\n\n  return i > 1\n    ? '/' + str.substr(i)\n    : str\n}\n\n/**\n * Determine if path parts contain a dotfile.\n *\n * @api private\n */\n\nfunction containsDotFile (parts) {\n  for (var i = 0; i < parts.length; i++) {\n    var part = parts[i]\n    if (part.length > 1 && part[0] === '.') {\n      return true\n    }\n  }\n\n  return false\n}\n\n/**\n * Create a Content-Range header.\n *\n * @param {string} type\n * @param {number} size\n * @param {array} [range]\n */\n\nfunction contentRange (type, size, range) {\n  return type + ' ' + (range ? range.start + '-' + range.end : '*') + '/' + size\n}\n\n/**\n * Create a minimal HTML document.\n *\n * @param {string} title\n * @param {string} body\n * @private\n */\n\nfunction createHtmlDocument (title, body) {\n  return '<!DOCTYPE html>\\n' +\n    '<html lang=\"en\">\\n' +\n    '<head>\\n' +\n    '<meta charset=\"utf-8\">\\n' +\n    '<title>' + title + '</title>\\n' +\n    '</head>\\n' +\n    '<body>\\n' +\n    '<pre>' + body + '</pre>\\n' +\n    '</body>\\n' +\n    '</html>\\n'\n}\n\n/**\n * decodeURIComponent.\n *\n * Allows V8 to only deoptimize this fn instead of all\n * of send().\n *\n * @param {String} path\n * @api private\n */\n\nfunction decode (path) {\n  try {\n    return decodeURIComponent(path)\n  } catch (err) {\n    return -1\n  }\n}\n\n/**\n * Get the header names on a respnse.\n *\n * @param {object} res\n * @returns {array[string]}\n * @private\n */\n\nfunction getHeaderNames (res) {\n  return typeof res.getHeaderNames !== 'function'\n    ? Object.keys(res._headers || {})\n    : res.getHeaderNames()\n}\n\n/**\n * Determine if emitter has listeners of a given type.\n *\n * The way to do this check is done three different ways in Node.js >= 0.8\n * so this consolidates them into a minimal set using instance methods.\n *\n * @param {EventEmitter} emitter\n * @param {string} type\n * @returns {boolean}\n * @private\n */\n\nfunction hasListeners (emitter, type) {\n  var count = typeof emitter.listenerCount !== 'function'\n    ? emitter.listeners(type).length\n    : emitter.listenerCount(type)\n\n  return count > 0\n}\n\n/**\n * Determine if the response headers have been sent.\n *\n * @param {object} res\n * @returns {boolean}\n * @private\n */\n\nfunction headersSent (res) {\n  return typeof res.headersSent !== 'boolean'\n    ? Boolean(res._header)\n    : res.headersSent\n}\n\n/**\n * Normalize the index option into an array.\n *\n * @param {boolean|string|array} val\n * @param {string} name\n * @private\n */\n\nfunction normalizeList (val, name) {\n  var list = [].concat(val || [])\n\n  for (var i = 0; i < list.length; i++) {\n    if (typeof list[i] !== 'string') {\n      throw new TypeError(name + ' must be array of strings or false')\n    }\n  }\n\n  return list\n}\n\n/**\n * Parse an HTTP Date into a number.\n *\n * @param {string} date\n * @private\n */\n\nfunction parseHttpDate (date) {\n  var timestamp = date && Date.parse(date)\n\n  return typeof timestamp === 'number'\n    ? timestamp\n    : NaN\n}\n\n/**\n * Parse a HTTP token list.\n *\n * @param {string} str\n * @private\n */\n\nfunction parseTokenList (str) {\n  var end = 0\n  var list = []\n  var start = 0\n\n  // gather tokens\n  for (var i = 0, len = str.length; i < len; i++) {\n    switch (str.charCodeAt(i)) {\n      case 0x20: /*   */\n        if (start === end) {\n          start = end = i + 1\n        }\n        break\n      case 0x2c: /* , */\n        list.push(str.substring(start, end))\n        start = end = i + 1\n        break\n      default:\n        end = i + 1\n        break\n    }\n  }\n\n  // final token\n  list.push(str.substring(start, end))\n\n  return list\n}\n\n/**\n * Set an object of headers on a response.\n *\n * @param {object} res\n * @param {object} headers\n * @private\n */\n\nfunction setHeaders (res, headers) {\n  var keys = Object.keys(headers)\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i]\n    res.setHeader(key, headers[key])\n  }\n}\n\n};"],
"names":["shadow$provide","global","require","module","exports","SendStream","req","path","options","Stream","call","opts","_acceptRanges","undefined","acceptRanges","_cacheControl","cacheControl","_etag","etag","_dotfiles","dotfiles","TypeError","_hidden","hidden","deprecate","_extensions","extensions","normalizeList","_immutable","immutable","_index","index","_lastModified","lastModified","_maxage","maxAge","maxage","ms","Number","isNaN","Math","min","max","MAX_MAXAGE","_root","root","resolve","from","contentRange","type","size","range","start","end","createHtmlDocument","title","body","getHeaderNames","res","Object","keys","_headers","hasListeners","emitter","count","listenerCount","listeners","length","val","name","list","concat","i","parseHttpDate","date","timestamp","Date","parse","NaN","parseTokenList","str","len","charCodeAt","push","substring","Buffer","createError","debug","destroy","encodeUrl","escapeHtml","fresh","fs","mime","onFinished","parseRange","statuses","util","extname","join","normalize","sep","BYTES_RANGE_REGEXP","UP_PATH_REGEXP","send","inherits","prototype","function","paths","SendStream.prototype.root","String","error","SendStream.prototype.error","status","err","emit","expose","doc","headers","removeHeader","key","setHeader","statusCode","byteLength","hasTrailingSlash","SendStream.prototype.hasTrailingSlash","isConditionalGET","SendStream.prototype.isConditionalGET","isPreconditionFailure","SendStream.prototype.isPreconditionFailure","match","getHeader","every","unmodifiedSince","removeContentHeaderFields","SendStream.prototype.removeContentHeaderFields","header","substr","notModified","SendStream.prototype.notModified","headersAlreadySent","SendStream.prototype.headersAlreadySent","Error","isCachable","SendStream.prototype.isCachable","onStatError","SendStream.prototype.onStatError","code","isFresh","SendStream.prototype.isFresh","isRangeFresh","SendStream.prototype.isRangeFresh","ifRange","indexOf","redirect","SendStream.prototype.redirect","loc","pipe","SendStream.prototype.pipe","decodeURIComponent","test","parts","split","part","access","sendIndex","sendFile","SendStream.prototype.send","stat","ranges","offset","headersSent","_header","bytes","combine","prop","method","stream","SendStream.prototype.sendFile","next","self","p","isDirectory","onstat","SendStream.prototype.sendIndex","SendStream.prototype.stream","finished","createReadStream","onfinished","on","onerror","onend","SendStream.prototype.type","lookup","charset","charsets","SendStream.prototype.setHeader","floor","modified","mtime","toUTCString"]
}
