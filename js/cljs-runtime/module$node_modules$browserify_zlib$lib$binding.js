shadow$provide.module$node_modules$browserify_zlib$lib$binding=function(global,require,module,exports){function Zlib(mode){if("number"!==typeof mode||mode<exports.DEFLATE||mode>exports.UNZIP)throw new TypeError("Bad argument");this.dictionary=null;this.flush=this.err=0;this.init_done=!1;this.memLevel=this.level=0;this.mode=mode;this.windowBits=this.strategy=0;this.pending_close=this.write_in_progress=!1;this.gzip_id_bytes_read=0}var process=require("module$node_modules$process$browser"),Buffer=require("module$node_modules$buffer$index").Buffer;
"use strict";var assert=require("module$node_modules$assert$assert"),Zstream=require("module$node_modules$pako$lib$zlib$zstream"),zlib_deflate=require("module$node_modules$pako$lib$zlib$deflate"),zlib_inflate=require("module$node_modules$pako$lib$zlib$inflate");global=require("module$node_modules$pako$lib$zlib$constants");for(var key in global)exports[key]=global[key];exports.NONE=0;exports.DEFLATE=1;exports.INFLATE=2;exports.GZIP=3;exports.GUNZIP=4;exports.DEFLATERAW=5;exports.INFLATERAW=6;exports.UNZIP=
7;Zlib.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,assert(this.init_done,"close before init"),assert(this.mode<=exports.UNZIP),this.mode===exports.DEFLATE||this.mode===exports.GZIP||this.mode===exports.DEFLATERAW?zlib_deflate.deflateEnd(this.strm):(this.mode===exports.INFLATE||this.mode===exports.GUNZIP||this.mode===exports.INFLATERAW||this.mode===exports.UNZIP)&&zlib_inflate.inflateEnd(this.strm),this.mode=exports.NONE,this.dictionary=null)};Zlib.prototype.write=
function(flush,input,in_off,in_len,out,out_off,out_len){return this._write(!0,flush,input,in_off,in_len,out,out_off,out_len)};Zlib.prototype.writeSync=function(flush,input,in_off,in_len,out,out_off,out_len){return this._write(!1,flush,input,in_off,in_len,out,out_off,out_len)};Zlib.prototype._write=function(async,flush,input,in_off,in_len,out,out_off,out_len){assert.equal(arguments.length,8);assert(this.init_done,"write before init");assert(this.mode!==exports.NONE,"already finalized");assert.equal(!1,
this.write_in_progress,"write already in progress");assert.equal(!1,this.pending_close,"close is pending");this.write_in_progress=!0;assert.equal(!1,void 0===flush,"must provide flush value");this.write_in_progress=!0;if(flush!==exports.Z_NO_FLUSH&&flush!==exports.Z_PARTIAL_FLUSH&&flush!==exports.Z_SYNC_FLUSH&&flush!==exports.Z_FULL_FLUSH&&flush!==exports.Z_FINISH&&flush!==exports.Z_BLOCK)throw Error("Invalid flush value");null==input&&(input=Buffer.alloc(0),in_off=in_len=0);this.strm.avail_in=in_len;
this.strm.input=input;this.strm.next_in=in_off;this.strm.avail_out=out_len;this.strm.output=out;this.strm.next_out=out_off;this.flush=flush;if(async){var self=this;process.nextTick(function(){self._process();self._after()});return this}this._process();if(this._checkError())return this._afterSync()};Zlib.prototype._afterSync=function(){var avail_out=this.strm.avail_out,avail_in=this.strm.avail_in;this.write_in_progress=!1;return[avail_in,avail_out]};Zlib.prototype._process=function(){var next_expected_header_byte=
null;switch(this.mode){case exports.DEFLATE:case exports.GZIP:case exports.DEFLATERAW:this.err=zlib_deflate.deflate(this.strm,this.flush);break;case exports.UNZIP:switch(0<this.strm.avail_in&&(next_expected_header_byte=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===next_expected_header_byte)break;if(31===this.strm.input[next_expected_header_byte]){if(this.gzip_id_bytes_read=1,next_expected_header_byte++,1===this.strm.avail_in)break}else{this.mode=exports.INFLATE;break}case 1:if(null===
next_expected_header_byte)break;139===this.strm.input[next_expected_header_byte]?(this.gzip_id_bytes_read=2,this.mode=exports.GUNZIP):this.mode=exports.INFLATE;break;default:throw Error("invalid number of gzip magic number bytes read");}case exports.INFLATE:case exports.GUNZIP:case exports.INFLATERAW:this.err=zlib_inflate.inflate(this.strm,this.flush);this.err===exports.Z_NEED_DICT&&this.dictionary&&(this.err=zlib_inflate.inflateSetDictionary(this.strm,this.dictionary),this.err===exports.Z_OK?this.err=
zlib_inflate.inflate(this.strm,this.flush):this.err===exports.Z_DATA_ERROR&&(this.err=exports.Z_NEED_DICT));for(;0<this.strm.avail_in&&this.mode===exports.GUNZIP&&this.err===exports.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=zlib_inflate.inflate(this.strm,this.flush);break;default:throw Error("Unknown mode "+this.mode);}};Zlib.prototype._checkError=function(){switch(this.err){case exports.Z_OK:case exports.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===exports.Z_FINISH)return this._error("unexpected end of file"),
!1;break;case exports.Z_STREAM_END:break;case exports.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0};Zlib.prototype._after=function(){if(this._checkError()){var avail_out=this.strm.avail_out,avail_in=this.strm.avail_in;this.write_in_progress=!1;this.callback(avail_in,avail_out);this.pending_close&&this.close()}};Zlib.prototype._error=function(message){this.strm.msg&&(message=this.strm.msg);
this.onerror(message,this.err);this.write_in_progress=!1;this.pending_close&&this.close()};Zlib.prototype.init=function(windowBits,level,memLevel,strategy,dictionary){assert(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])");assert(8<=windowBits&&15>=windowBits,"invalid windowBits");assert(-1<=level&&9>=level,"invalid compression level");assert(1<=memLevel&&9>=memLevel,"invalid memlevel");assert(strategy===exports.Z_FILTERED||strategy===exports.Z_HUFFMAN_ONLY||
strategy===exports.Z_RLE||strategy===exports.Z_FIXED||strategy===exports.Z_DEFAULT_STRATEGY,"invalid strategy");this._init(level,windowBits,memLevel,strategy,dictionary);this._setDictionary()};Zlib.prototype.params=function(){throw Error("deflateParams Not supported");};Zlib.prototype.reset=function(){this._reset();this._setDictionary()};Zlib.prototype._init=function(level,windowBits,memLevel,strategy,dictionary){this.level=level;this.windowBits=windowBits;this.memLevel=memLevel;this.strategy=strategy;
this.flush=exports.Z_NO_FLUSH;this.err=exports.Z_OK;if(this.mode===exports.GZIP||this.mode===exports.GUNZIP)this.windowBits+=16;this.mode===exports.UNZIP&&(this.windowBits+=32);if(this.mode===exports.DEFLATERAW||this.mode===exports.INFLATERAW)this.windowBits*=-1;this.strm=new Zstream;switch(this.mode){case exports.DEFLATE:case exports.GZIP:case exports.DEFLATERAW:this.err=zlib_deflate.deflateInit2(this.strm,this.level,exports.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case exports.INFLATE:case exports.GUNZIP:case exports.INFLATERAW:case exports.UNZIP:this.err=
zlib_inflate.inflateInit2(this.strm,this.windowBits);break;default:throw Error("Unknown mode "+this.mode);}this.err!==exports.Z_OK&&this._error("Init error");this.dictionary=dictionary;this.write_in_progress=!1;this.init_done=!0};Zlib.prototype._setDictionary=function(){if(null!=this.dictionary){this.err=exports.Z_OK;switch(this.mode){case exports.DEFLATE:case exports.DEFLATERAW:this.err=zlib_deflate.deflateSetDictionary(this.strm,this.dictionary)}this.err!==exports.Z_OK&&this._error("Failed to set dictionary")}};
Zlib.prototype._reset=function(){this.err=exports.Z_OK;switch(this.mode){case exports.DEFLATE:case exports.DEFLATERAW:case exports.GZIP:this.err=zlib_deflate.deflateReset(this.strm);break;case exports.INFLATE:case exports.INFLATERAW:case exports.GUNZIP:this.err=zlib_inflate.inflateReset(this.strm)}this.err!==exports.Z_OK&&this._error("Failed to reset stream")};exports.Zlib=Zlib}
//# sourceMappingURL=module$node_modules$browserify_zlib$lib$binding.js.map
