shadow$provide.module$node_modules$express$lib$router$route=function(global,require,module,exports){function Route(path){this.path=path;this.stack=[];debug("new %o",path);this.methods={}}var debug=require("module$node_modules$debug$src$browser")("express:router:route"),flatten=require("module$node_modules$array_flatten$array_flatten"),Layer=require("module$node_modules$express$lib$router$layer");global=require("module$node_modules$methods$index");var slice=Array.prototype.slice,toString=Object.prototype.toString;
module.exports=Route;Route.prototype._handles_method=function(method){if(this.methods._all)return!0;method=method.toLowerCase();"head"!==method||this.methods.head||(method="get");return!!this.methods[method]};Route.prototype._options=function(){var methods=Object.keys(this.methods);this.methods.get&&!this.methods.head&&methods.push("head");for(var i=0;i<methods.length;i++)methods[i]=methods[i].toUpperCase();return methods};Route.prototype.dispatch=function(req,res,done){function next(err){if(err&&
"route"===err)return done();if(err&&"router"===err)return done(err);var layer=stack[idx++];if(!layer)return done(err);if(layer.method&&layer.method!==method)return next(err);err?layer.handle_error(err,req,res,next):layer.handle_request(req,res,next)}var idx=0,stack=this.stack;if(0===stack.length)return done();var method=req.method.toLowerCase();"head"!==method||this.methods.head||(method="get");req.route=this;next()};Route.prototype.all=function(){for(var handles=flatten(slice.call(arguments)),i=
0;i<handles.length;i++){var handle=handles[i];if("function"!==typeof handle)throw handles="Route.all() requires a callback function but got a "+toString.call(handle),new TypeError(handles);handle=Layer("/",{},handle);handle.method=void 0;this.methods._all=!0;this.stack.push(handle)}return this};global.forEach(function(method){Route.prototype[method]=function(){for(var handles=flatten(slice.call(arguments)),i=0;i<handles.length;i++){var handle=handles[i];if("function"!==typeof handle)throw handles=
toString.call(handle),Error("Route."+method+"() requires a callback function but got a "+handles);debug("%s %o",method,this.path);handle=Layer("/",{},handle);handle.method=method;this.methods[method]=!0;this.stack.push(handle)}return this}})}
//# sourceMappingURL=module$node_modules$express$lib$router$route.js.map
