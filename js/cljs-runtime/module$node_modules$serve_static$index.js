shadow$provide.module$node_modules$serve_static$index=function(global,require,module,exports){function createNotFoundDirectoryListener(){return function(){this.error(404)}}function createRedirectDirectoryListener(){return function(res){if(this.hasTrailingSlash())this.error(404);else{var originalUrl=parseUrl.original(this.req);originalUrl.path=null;var JSCompiler_inline_result=originalUrl.pathname+"/";for(var i=0;i<JSCompiler_inline_result.length&&47===JSCompiler_inline_result.charCodeAt(i);i++);JSCompiler_inline_result=
1<i?"/"+JSCompiler_inline_result.substr(i):JSCompiler_inline_result;originalUrl.pathname=JSCompiler_inline_result;originalUrl=encodeUrl(url.format(originalUrl));JSCompiler_inline_result='\x3c!DOCTYPE html\x3e\n\x3chtml lang\x3d"en"\x3e\n\x3chead\x3e\n\x3cmeta charset\x3d"utf-8"\x3e\n\x3ctitle\x3eRedirecting\x3c/title\x3e\n\x3c/head\x3e\n\x3cbody\x3e\n\x3cpre\x3eRedirecting to \x3ca href\x3d"'+(escapeHtml(originalUrl)+'"\x3e'+escapeHtml(originalUrl)+"\x3c/a\x3e\x3c/pre\x3e\n\x3c/body\x3e\n\x3c/html\x3e\n");
res.statusCode=301;res.setHeader("Content-Type","text/html; charset\x3dUTF-8");res.setHeader("Content-Length",Buffer.byteLength(JSCompiler_inline_result));res.setHeader("Content-Security-Policy","default-src 'none'");res.setHeader("X-Content-Type-Options","nosniff");res.setHeader("Location",originalUrl);res.end(JSCompiler_inline_result)}}}var Buffer=require("module$node_modules$buffer$index").Buffer;"use strict";var encodeUrl=require("module$node_modules$encodeurl$index"),escapeHtml=require("module$node_modules$escape_html$index"),
parseUrl=require("module$node_modules$parseurl$index"),resolve=require("module$node_modules$path_browserify$index").resolve,send=require("module$node_modules$send$index"),url=require("module$node_modules$url$url");module.exports=function(root,options){if(!root)throw new TypeError("root path required");if("string"!==typeof root)throw new TypeError("root path must be a string");var opts=Object.create(options||null),fallthrough=!1!==opts.fallthrough;options=!1!==opts.redirect;var setHeaders=opts.setHeaders;
if(setHeaders&&"function"!==typeof setHeaders)throw new TypeError("option setHeaders must be function");opts.maxage=opts.maxage||opts.maxAge||0;opts.root=resolve(root);var onDirectory=options?createRedirectDirectoryListener():createNotFoundDirectoryListener();return function(req,res,next){if("GET"!==req.method&&"HEAD"!==req.method){if(fallthrough)return next();res.statusCode=405;res.setHeader("Allow","GET, HEAD");res.setHeader("Content-Length","0");res.end()}else{var forwardError=!fallthrough,originalUrl=
parseUrl.original(req),path=parseUrl(req).pathname;"/"===path&&"/"!==originalUrl.pathname.substr(-1)&&(path="");req=send(req,path,opts);req.on("directory",onDirectory);if(setHeaders)req.on("headers",setHeaders);if(fallthrough)req.on("file",function(){forwardError=!0});req.on("error",function(err){!forwardError&&500>err.statusCode?next():next(err)});req.pipe(res)}}};module.exports.mime=send.mime}
//# sourceMappingURL=module$node_modules$serve_static$index.js.map
